<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>WorldBankData.jl</title>
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<link rel="shortcut icon" href="./favicon.ico" type="image/x-icon" />
<meta charset='utf-8'>
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
<link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
<link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
<link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
<header>
<div class="inner">
<h1>WorldBankData.jl</h1>
<h2>WorldBankData package for Julia language</h2>
<a href="https://github.com/JuliaFinMetriX/WorldBankData.jl" class="button"><small>View project on</small>GitHub</a>
</div>
</header>
<div id="content-wrapper">
<div class="inner clearfix">
<aside id="sidebar">
<a href="https://github.com/JuliaFinMetriX">
<img src="./logo.png" width="200" height="114">
</a>
<a href="https://github.com/JuliaFinMetriX/WorldBankData.jl/zipball/master" class="button">
<small>Download</small>
.zip file
</a>
<a href="https://github.com/JuliaFinMetriX/WorldBankData.jl/tarball/master" class="button">
<small>Download</small>
.tar.gz file
</a>
<p class="repo-owner"><a href="https://github.com/JuliaFinMetriX/WorldBankData.jl"></a> maintained by <a href="https://github.com/cgroll">cgroll</a>.</p>
</aside>
<section id="main-content">
<div>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">WorldBankData.jl</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. World Bank Data in Julia</a>
<ul>
<li><a href="#sec-1-1">1.1. Searching</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> World Bank Data in Julia</h2>
<div class="outline-text-2" id="text-1">
<p>
As part of the World Bank's Open Data initiative, the World Bank
provides free access to their extensive database through their <a href="http://data.worldbank.org/developers/data-catalog-api">Data
Catalog API</a>. This package uses this API to interactively access and
download World Bank data in Julia.
</p>

<p>
Similar to the <a href="http://cran.r-project.org/web/packages/WDI/index.html">WDI R package</a>, data can be downloaded using function
<code>wdi</code>. This function accepts indicators and countries as <code>String</code> or
<code>Array{String, 1}</code>. Thereby, countries must be given as World Bank's
iso2c code. Two additional <code>Int</code> inputs allow specifying beginning and
end of the data period, while keyword argument <code>extra</code> attaches
further country information like the capital, longitude, latitude,
income range, etc. to each observation. Output will be of type
<code>TimeData</code> by default, but can be set to <code>DataFrame</code> through keyword
argument <code>format</code>.
</p>

<div class="org-src-container">

<pre class="src src-julia">using WorldBankData
</pre>
</div>

<div class="org-src-container">

<pre class="src src-julia">## single indicator, single country
gnp = WorldBankData.wdi("NY.GNP.PCAP.CD", "BR")

## single indicator, multiple countries
gnp = WorldBankData.wdi("NY.GNP.PCAP.CD", ["BR", "US", "DE"])

## multiple indicators, single country
data = WorldBankData.wdi(["NY.GNP.PCAP.CD", "SP.DYN.LE00.IN"],
                         ["BR"])

## multiple indicators, multiple countries
data = WorldBankData.wdi(["NY.GNP.PCAP.CD", "SP.DYN.LE00.IN"],
                         ["BR", "US", "DE"])

## same, but as DataFrame
data = WorldBankData.wdi(["NY.GNP.PCAP.CD", "SP.DYN.LE00.IN"],
                         ["BR", "US", "DE"],
                         format = DataFrame)

## multiple indicators, multiple countries, additional information
data = WorldBankData.wdi(["NY.GNP.PCAP.CD", "SP.DYN.LE00.IN"],
                         ["BR", "US", "DE"], extra = true)

data[1:5, :]
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="right" />

<col  class="left" />

<col  class="left" />

<col  class="right" />

<col  class="right" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="right" />

<col  class="right" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="right">idx</td>
<td class="left">iso2c</td>
<td class="left">country</td>
<td class="right">NY.GNP.PCAP.CD</td>
<td class="right">SP.DYN.LE00.IN</td>
<td class="left">iso3c</td>
<td class="left">name</td>
<td class="left">region</td>
<td class="left">regionId</td>
<td class="left">capital</td>
<td class="right">longitude</td>
<td class="right">latitude</td>
<td class="left">income</td>
<td class="left">incomeId</td>
<td class="left">lending</td>
<td class="left">lendingId</td>
</tr>

<tr>
<td class="right">1960-12-31</td>
<td class="left">BR</td>
<td class="left">Brazil</td>
<td class="right">NA</td>
<td class="right">54.6921463414634</td>
<td class="left">BRA</td>
<td class="left">Brazil</td>
<td class="left">Latin America &amp; Caribbean (all income levels)</td>
<td class="left">LCN</td>
<td class="left">Brasilia</td>
<td class="right">-47.9292</td>
<td class="right">-15.7801</td>
<td class="left">Upper middle income</td>
<td class="left">UMC</td>
<td class="left">IBRD</td>
<td class="left">IBD</td>
</tr>

<tr>
<td class="right">1961-12-31</td>
<td class="left">BR</td>
<td class="left">Brazil</td>
<td class="right">NA</td>
<td class="right">55.1696341463415</td>
<td class="left">BRA</td>
<td class="left">Brazil</td>
<td class="left">Latin America &amp; Caribbean (all income levels)</td>
<td class="left">LCN</td>
<td class="left">Brasilia</td>
<td class="right">-47.9292</td>
<td class="right">-15.7801</td>
<td class="left">Upper middle income</td>
<td class="left">UMC</td>
<td class="left">IBRD</td>
<td class="left">IBD</td>
</tr>

<tr>
<td class="right">1962-12-31</td>
<td class="left">BR</td>
<td class="left">Brazil</td>
<td class="right">230</td>
<td class="right">55.6330975609756</td>
<td class="left">BRA</td>
<td class="left">Brazil</td>
<td class="left">Latin America &amp; Caribbean (all income levels)</td>
<td class="left">LCN</td>
<td class="left">Brasilia</td>
<td class="right">-47.9292</td>
<td class="right">-15.7801</td>
<td class="left">Upper middle income</td>
<td class="left">UMC</td>
<td class="left">IBRD</td>
<td class="left">IBD</td>
</tr>

<tr>
<td class="right">1963-12-31</td>
<td class="left">BR</td>
<td class="left">Brazil</td>
<td class="right">250</td>
<td class="right">56.08</td>
<td class="left">BRA</td>
<td class="left">Brazil</td>
<td class="left">Latin America &amp; Caribbean (all income levels)</td>
<td class="left">LCN</td>
<td class="left">Brasilia</td>
<td class="right">-47.9292</td>
<td class="right">-15.7801</td>
<td class="left">Upper middle income</td>
<td class="left">UMC</td>
<td class="left">IBRD</td>
<td class="left">IBD</td>
</tr>

<tr>
<td class="right">1964-12-31</td>
<td class="left">BR</td>
<td class="left">Brazil</td>
<td class="right">270</td>
<td class="right">56.5102926829268</td>
<td class="left">BRA</td>
<td class="left">Brazil</td>
<td class="left">Latin America &amp; Caribbean (all income levels)</td>
<td class="left">LCN</td>
<td class="left">Brasilia</td>
<td class="right">-47.9292</td>
<td class="right">-15.7801</td>
<td class="left">Upper middle income</td>
<td class="left">UMC</td>
<td class="left">IBRD</td>
<td class="left">IBD</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1"><span class="section-number-3">1.1</span> Searching</h3>
<div class="outline-text-3" id="text-1-1">
<p>
The most convenient way to explore indicators probably still is the
<a href="http://data.worldbank.org/indicator">World Bank webpage</a>, where you can easily use the search functionality
to find an indicator. Once you found the indicator that you are
looking for, you can read off the indicator shortcut name (e.g.
SP.DYN.LE00.IN) from the URL of the indicator webpage.
</p>

<p>
Alternatively, however, this package also contains functionality to
interactively search the database from Julia itself.
</p>


<p>
However, the module does provide a search function: `search<sub>wdi</sub>()`.
</p>

<p>
One can search for "countries" or "indicators" data.
</p>

<p>
### Example for country search by name
</p>

<p>
```julia
</p>
<div class="org-src-container">

<pre class="src src-julia">res = search_wdi("countries", :name, r"united"i)
res[:name]
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">United Arab Emirates</td>
</tr>

<tr>
<td class="left">United Kingdom</td>
</tr>

<tr>
<td class="left">United States</td>
</tr>
</tbody>
</table>

<div class="org-src-container">

<pre class="src src-julia">res[:iso2c]
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">AE</td>
</tr>

<tr>
<td class="left">GB</td>
</tr>

<tr>
<td class="left">US</td>
</tr>
</tbody>
</table>

<p>
### Example for indicator search by description
</p>

<p>
```julia
julia&gt; 
</p>
<div class="org-src-container">

<pre class="src src-julia">res = search_wdi("indicators", :description, r"gross national expenditure"i)
names(res)
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">indicator</td>
</tr>

<tr>
<td class="left">name</td>
</tr>

<tr>
<td class="left">description</td>
</tr>

<tr>
<td class="left">source<sub>database</sub></td>
</tr>

<tr>
<td class="left">source<sub>databaseId</sub></td>
</tr>

<tr>
<td class="left">source<sub>organization</sub></td>
</tr>
</tbody>
</table>

<div class="org-src-container">

<pre class="src src-julia">res[:name]
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">Gross national expenditure deflator (base year varies by country)</td>
</tr>

<tr>
<td class="left">Gross national expenditure (current US$)</td>
</tr>

<tr>
<td class="left">Gross national expenditure (current LCU)</td>
</tr>

<tr>
<td class="left">Gross national expenditure (constant 2005 US$)</td>
</tr>

<tr>
<td class="left">Gross national expenditure (constant LCU)</td>
</tr>

<tr>
<td class="left">Gross national expenditure (% of GDP)</td>
</tr>
</tbody>
</table>

<div class="org-src-container">

<pre class="src src-julia">res[:indicator]
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">NE.DAB.DEFL.ZS</td>
</tr>

<tr>
<td class="left">NE.DAB.TOTL.CD</td>
</tr>

<tr>
<td class="left">NE.DAB.TOTL.CN</td>
</tr>

<tr>
<td class="left">NE.DAB.TOTL.KD</td>
</tr>

<tr>
<td class="left">NE.DAB.TOTL.KN</td>
</tr>

<tr>
<td class="left">NE.DAB.TOTL.ZS</td>
</tr>
</tbody>
</table>


<p>
### The search<sub>wdi</sub>() function
</p>

<p>
The `search<sub>wdi</sub>()` function has the following arguments
```julia
function search<sub>wdi</sub>(data<sub>source</sub>, entry, regex)
```
</p>

<p>
The `data<sub>source`</sub> is either `countries` or `indicators`. The entry is
one of the attributes (like name). The regex is the regular expression
to search for.
</p>

<p>
The search function uses two DataFrames `country<sub>cache`</sub> and
`indicator<sub>cache`</sub> and searches through these. On the first search it
will download the data from the World Bank website. This takes much
longer for the larger indicators data. This only happens once per
session. After the first use the data is cached.
</p>

<p>
Note that the last argument to `search<sub>wdi</sub>()` is a regular expression
denoted by `r"&#x2026;"` and an `i` at the end means that it is case
insensitive.
</p>

<p>
"countries" can be searched for "name", "region", "capital", "iso2c",
"iso3c", "income", and "lending".
</p>

<p>
"indicators" can be searched for "name", "description", "topics",
"source<sub>database</sub>", and "source<sub>organization</sub>".
</p>

<p>
### Examples of country searches
</p>

<p>
```julia
</p>
<div class="org-src-container">

<pre class="src src-julia">search_wdi("countries", :iso2c, r"TZ"i)
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="right" />

<col  class="right" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">iso3c</td>
<td class="left">iso2c</td>
<td class="left">name</td>
<td class="left">region</td>
<td class="left">regionId</td>
<td class="left">capital</td>
<td class="right">longitude</td>
<td class="right">latitude</td>
<td class="left">income</td>
<td class="left">incomeId</td>
<td class="left">lending</td>
<td class="left">lendingId</td>
</tr>

<tr>
<td class="left">TZA</td>
<td class="left">TZ</td>
<td class="left">Tanzania</td>
<td class="left">Sub-Saharan Africa (all income levels)</td>
<td class="left">SSF</td>
<td class="left">Dodoma</td>
<td class="right">35.7382</td>
<td class="right">-6.17486</td>
<td class="left">Low income</td>
<td class="left">LIC</td>
<td class="left">IDA</td>
<td class="left">IDX</td>
</tr>
</tbody>
</table>

<p>
julia&gt; 
&#x2026;
</p>

<div class="org-src-container">

<pre class="src src-julia">search_wdi("countries", :income, r"upper middle"i)[1:5, :]
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="right" />

<col  class="right" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">iso3c</td>
<td class="left">iso2c</td>
<td class="left">name</td>
<td class="left">region</td>
<td class="left">regionId</td>
<td class="left">capital</td>
<td class="right">longitude</td>
<td class="right">latitude</td>
<td class="left">income</td>
<td class="left">incomeId</td>
<td class="left">lending</td>
<td class="left">lendingId</td>
</tr>

<tr>
<td class="left">AGO</td>
<td class="left">AO</td>
<td class="left">Angola</td>
<td class="left">Sub-Saharan Africa (all income levels)</td>
<td class="left">SSF</td>
<td class="left">Luanda</td>
<td class="right">13.242</td>
<td class="right">-8.81155</td>
<td class="left">Upper middle income</td>
<td class="left">UMC</td>
<td class="left">IBRD</td>
<td class="left">IBD</td>
</tr>

<tr>
<td class="left">ALB</td>
<td class="left">AL</td>
<td class="left">Albania</td>
<td class="left">Europe &amp; Central Asia (all income levels)</td>
<td class="left">ECS</td>
<td class="left">Tirane</td>
<td class="right">19.8172</td>
<td class="right">41.3317</td>
<td class="left">Upper middle income</td>
<td class="left">UMC</td>
<td class="left">IBRD</td>
<td class="left">IBD</td>
</tr>

<tr>
<td class="left">ARG</td>
<td class="left">AR</td>
<td class="left">Argentina</td>
<td class="left">Latin America &amp; Caribbean (all income levels)</td>
<td class="left">LCN</td>
<td class="left">Buenos Aires</td>
<td class="right">-58.4173</td>
<td class="right">-34.6118</td>
<td class="left">Upper middle income</td>
<td class="left">UMC</td>
<td class="left">IBRD</td>
<td class="left">IBD</td>
</tr>

<tr>
<td class="left">ASM</td>
<td class="left">AS</td>
<td class="left">American Samoa</td>
<td class="left">East Asia &amp; Pacific (all income levels)</td>
<td class="left">EAS</td>
<td class="left">Pago Pago</td>
<td class="right">-170.691</td>
<td class="right">-14.2846</td>
<td class="left">Upper middle income</td>
<td class="left">UMC</td>
<td class="left">Not classified</td>
<td class="left">LNX</td>
</tr>

<tr>
<td class="left">AZE</td>
<td class="left">AZ</td>
<td class="left">Azerbaijan</td>
<td class="left">Europe &amp; Central Asia (all income levels)</td>
<td class="left">ECS</td>
<td class="left">Baku</td>
<td class="right">49.8932</td>
<td class="right">40.3834</td>
<td class="left">Upper middle income</td>
<td class="left">UMC</td>
<td class="left">IBRD</td>
<td class="left">IBD</td>
</tr>
</tbody>
</table>

<p>
julia&gt; 
</p>
<div class="org-src-container">

<pre class="src src-julia">search_wdi("countries", :region, r"Latin America"i)[1:5, :]
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="right" />

<col  class="right" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">iso3c</td>
<td class="left">iso2c</td>
<td class="left">name</td>
<td class="left">region</td>
<td class="left">regionId</td>
<td class="left">capital</td>
<td class="right">longitude</td>
<td class="right">latitude</td>
<td class="left">income</td>
<td class="left">incomeId</td>
<td class="left">lending</td>
<td class="left">lendingId</td>
</tr>

<tr>
<td class="left">ABW</td>
<td class="left">AW</td>
<td class="left">Aruba</td>
<td class="left">Latin America &amp; Caribbean (all income levels)</td>
<td class="left">LCN</td>
<td class="left">Oranjestad</td>
<td class="right">-70.0167</td>
<td class="right">12.5167</td>
<td class="left">High income: nonOECD</td>
<td class="left">NOC</td>
<td class="left">Not classified</td>
<td class="left">LNX</td>
</tr>

<tr>
<td class="left">ARG</td>
<td class="left">AR</td>
<td class="left">Argentina</td>
<td class="left">Latin America &amp; Caribbean (all income levels)</td>
<td class="left">LCN</td>
<td class="left">Buenos Aires</td>
<td class="right">-58.4173</td>
<td class="right">-34.6118</td>
<td class="left">Upper middle income</td>
<td class="left">UMC</td>
<td class="left">IBRD</td>
<td class="left">IBD</td>
</tr>

<tr>
<td class="left">ATG</td>
<td class="left">AG</td>
<td class="left">Antigua and Barbuda</td>
<td class="left">Latin America &amp; Caribbean (all income levels)</td>
<td class="left">LCN</td>
<td class="left">Saint John's</td>
<td class="right">-61.8456</td>
<td class="right">17.1175</td>
<td class="left">High income: nonOECD</td>
<td class="left">NOC</td>
<td class="left">IBRD</td>
<td class="left">IBD</td>
</tr>

<tr>
<td class="left">BHS</td>
<td class="left">BS</td>
<td class="left">Bahamas, The</td>
<td class="left">Latin America &amp; Caribbean (all income levels)</td>
<td class="left">LCN</td>
<td class="left">Nassau</td>
<td class="right">-77.339</td>
<td class="right">25.0661</td>
<td class="left">High income: nonOECD</td>
<td class="left">NOC</td>
<td class="left">Not classified</td>
<td class="left">LNX</td>
</tr>

<tr>
<td class="left">BLZ</td>
<td class="left">BZ</td>
<td class="left">Belize</td>
<td class="left">Latin America &amp; Caribbean (all income levels)</td>
<td class="left">LCN</td>
<td class="left">Belmopan</td>
<td class="right">-88.7713</td>
<td class="right">17.2534</td>
<td class="left">Upper middle income</td>
<td class="left">UMC</td>
<td class="left">IBRD</td>
<td class="left">IBD</td>
</tr>
</tbody>
</table>

<div class="org-src-container">

<pre class="src src-julia">search_wdi("countries", :capital, r"^Ka"i)
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="right" />

<col  class="right" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">iso3c</td>
<td class="left">iso2c</td>
<td class="left">name</td>
<td class="left">region</td>
<td class="left">regionId</td>
<td class="left">capital</td>
<td class="right">longitude</td>
<td class="right">latitude</td>
<td class="left">income</td>
<td class="left">incomeId</td>
<td class="left">lending</td>
<td class="left">lendingId</td>
</tr>

<tr>
<td class="left">AFG</td>
<td class="left">AF</td>
<td class="left">Afghanistan</td>
<td class="left">South Asia</td>
<td class="left">SAS</td>
<td class="left">Kabul</td>
<td class="right">69.1761</td>
<td class="right">34.5228</td>
<td class="left">Low income</td>
<td class="left">LIC</td>
<td class="left">IDA</td>
<td class="left">IDX</td>
</tr>

<tr>
<td class="left">NPL</td>
<td class="left">NP</td>
<td class="left">Nepal</td>
<td class="left">South Asia</td>
<td class="left">SAS</td>
<td class="left">Kathmandu</td>
<td class="right">85.3157</td>
<td class="right">27.6939</td>
<td class="left">Low income</td>
<td class="left">LIC</td>
<td class="left">IDA</td>
<td class="left">IDX</td>
</tr>

<tr>
<td class="left">UGA</td>
<td class="left">UG</td>
<td class="left">Uganda</td>
<td class="left">Sub-Saharan Africa (all income levels)</td>
<td class="left">SSF</td>
<td class="left">Kampala</td>
<td class="right">32.5729</td>
<td class="right">0.314269</td>
<td class="left">Low income</td>
<td class="left">LIC</td>
<td class="left">IDA</td>
<td class="left">IDX</td>
</tr>
</tbody>
</table>


<p>
julia&gt; search<sub>wdi</sub>("countries","lending",r"IBRD"i)
&#x2026;
</p>

<p>
```
</p>

<p>
### Examples of indicator searches
</p>

<p>
```julia
julia&gt; search<sub>wdi</sub>("indicators","name",r"gross national expenditure"i)
&#x2026;
julia&gt; search<sub>wdi</sub>("indicators","description",r"gross national expenditure"i)
&#x2026;
julia&gt; search<sub>wdi</sub>("indicators","source<sub>database</sub>",r"Sustainable"i)
&#x2026;
julia&gt; search<sub>wdi</sub>("indicators","source<sub>organization</sub>",r"Global Partnership"i)
</p>

<p>
```
</p>

<p>
## Tips and Tricks
</p>

<p>
### Extracting country data from results
</p>

<p>
```julia
df=wdi("NY.GNP.PCAP.CD", ["US","BR"], 1980, 2012, true)
indx=map(x-&gt; x=="US", df["iso2c"])
indx=convert(DataArray{Bool,1}, indx)
us<sub>gnp</sub>=df[indx,:]
```
</p>

<p>
### Plotting
</p>

<p>
```julia
using WorldBankData
using Winston
</p>

<p>
df=wdi("AG.LND.ARBL.HA.PC", "US", 1900, 2011)
</p>

<p>
plot(df["year"], df["AG.LND.ARBL.HA.PC"])
```
</p>

<p>
### Empty/Missing results
</p>

<p>
`wdi` will return an empty DataFrame without warning if there is no data:
```julia
julia&gt; dfAS=wdi("EN.ATM.CO2E.KT", "AS")
download:
<a href="http://api.worldbank.org/countries/AS/indicators/EN.ATM.CO2E.KT?date=1800:3000&per_page=25000&format=json">http://api.worldbank.org/countries/AS/indicators/EN.ATM.CO2E.KT?date=1800:3000&per_page=25000&format=json</a>
0x4 DataFrame
```
</p>

<p>
It will return a DataFrame for the cases where it has data, i.e.
</p>

<p>
```julia
julia&gt; df=wdi("EN.ATM.CO2E.KT", ["AS","US"])
download:
<a href="http://api.worldbank.org/countries/AS/indicators/EN.ATM.CO2E.KT?date=1800:3000&per_page=25000&format=json">http://api.worldbank.org/countries/AS/indicators/EN.ATM.CO2E.KT?date=1800:3000&per_page=25000&format=json</a>
download:
<a href="http://api.worldbank.org/countries/US/indicators/EN.ATM.CO2E.KT?date=1800:3000&per_page=25000&format=json">http://api.worldbank.org/countries/US/indicators/EN.ATM.CO2E.KT?date=1800:3000&per_page=25000&format=json</a>
51x4 DataFrame
&#x2026;
```
</p>

<p>
### Cache
</p>

<p>
The data in the World Bank database changes infrequently. Therefore it
makes little sense to download it every time a script is run.
</p>

<p>
However, sometimes there might sneak in some errors into the cached
data. In such a case, simply delete the current cache.
</p>

<p>
```julia
julia&gt; clear<sub>cache</sub>()
Cache has been cleared.
```
</p>

<p>
#### Metadata
</p>

<p>
The `search<sub>wdi</sub>()` function internally caches the country and
indicator metadata and therefore downloads the country and indicator
data only once per session. Even that is usually not necessary. This
data can easily be stored on local disk.
</p>

<p>
Download and store the country and indicator information in csv files:
</p>

<p>
```julia
julia&gt; using WorldBankData, DataFrames
julia&gt; writetable("country<sub>cache</sub>.csv",WorldBankData.get<sub>countries</sub>())
julia&gt; writetable("indicator<sub>cache</sub>.csv", WorldBankData.get<sub>indicators</sub>())
```
</p>

<p>
These can be used in the script to set the WorldBankData cache
variables `WorldBankData.country<sub>cache`</sub> and
`WorldBankData.indicator<sub>cache`</sub> (which are initialized to `false`)
using the `WorldBankData.set<sub>country</sub><sub>cache</sub>()` and
`WorldBankData.set<sub>indicator</sub><sub>cache</sub>()` functions:
</p>

<p>
```julia
using WorldBankData
using DataFrames
WorldBankData.set<sub>country</sub><sub>cache</sub>(readtable("country<sub>cache</sub>.csv"))
WorldBankData.set<sub>indicator</sub><sub>cache</sub>(readtable("indicator<sub>cache</sub>.csv"))
```
</p>

<p>
From then on the `search<sub>wdi</sub>()` function will use the data read from
disk.
</p>

<p>
#### Indicator data
</p>

<p>
In a similar way the indicator data itself can be cached.
</p>

<p>
```julia
using WorldBankData
using DataFrames
</p>

<p>
function update<sub>us</sub><sub>gnp</sub><sub>per</sub><sub>cap</sub>()
    df = wdi("NY.GNP.PCAP.CD", "US")
    writetable("us<sub>gnp</sub>.csv",df)
end
df=readtable("us<sub>gnp</sub>.csv")
```
one then runs the `update<sub>us</sub><sub>gnp</sub><sub>per</sub><sub>cap</sub>()` function only when needed.
</p>

<p>
## Build Status
</p>

<p>
[![Build Status](<img src="https://travis-ci.org/4gh/WorldBankData.jl.png" alt="WorldBankData.jl.png" />)](<a href="https://travis-ci.org/4gh/WorldBankData.jl">https://travis-ci.org/4gh/WorldBankData.jl</a>)
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 24.3.1 (<a href="http://orgmode.org">Org</a> mode 8.2.7)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
